<h1 class="text-3xl font-bold mb-8">Gérer les Articles du Blog</h1>

<div class="flex justify-end mb-6 space-x-4">
  <a href="<%= adminPath %>" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded">Retour au Dashboard</a>
  <a href="/blog" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Voir le Blog</a>
  <a href="<%= adminPath %>/posts/add" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Ajouter un Article</a>
</div>

<div class="bg-white shadow-md rounded-lg overflow-hidden">
  <table class="min-w-full leading-normal">
    <thead>
      <tr>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Titre</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Auteur</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider">Commentaires</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Date de Création</th>
        <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100"></th>
      </tr>
    </thead>
    <tbody>
      <% items.forEach(item => { %>
        <tr>
          <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
            <p class="text-gray-900 whitespace-no-wrap"><%= item.title %></p>
          </td>
          <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
            <p class="text-gray-900 whitespace-no-wrap"><%= item.author %></p>
          </td>
          <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm text-center">
            <span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700">
              <%= item.comments.length %>
            </span>
          </td>
          <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
            <p class="text-gray-900 whitespace-no-wrap"><%= new Date(item.createdAt).toLocaleDateString('fr-FR') %></p>
          </td>
          <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm text-right">
            <a href="<%= adminPath %>/posts/edit/<%= item._id %>" class="text-indigo-600 hover:text-indigo-900">Modifier</a>
            <form action="<%= adminPath %>/posts/delete/<%= item._id %>?_method=DELETE" method="POST" class="inline-block ml-4">
              <input type="hidden" name="_csrf" value="<%- csrfToken %>">
              <button type="submit" class="text-red-600 hover:text-red-900">Supprimer</button>
            </form>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>
