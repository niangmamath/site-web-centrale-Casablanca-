<h1 class="text-3xl font-bold mb-8">Modifier le Membre</h1>

<form action="<%= adminPath %>/members/edit/<%= item._id %>?_method=PUT&_csrf=<%- csrfToken %>" method="POST" enctype="multipart/form-data" class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md">
<input type="hidden" name="_csrf" value="<%- csrfToken %>">

  <!-- Champ Nom -->
  <div class="mb-6">
    <label for="name" class="block text-gray-700 text-sm font-bold mb-2">Nom Complet</label>
    <input type="text" id="name" name="name" value="<%- item.name %>" required class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
  </div>

  <!-- Champ Rôle -->
  <div class="mb-6">
    <label for="role" class="block text-gray-700 text-sm font-bold mb-2">Rôle</label>
    <input type="text" id="role" name="role" value="<%- item.role %>" required class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
  </div>

  <!-- Champ Année -->
  <div class="mb-6">
    <label for="year" class="block text-gray-700 text-sm font-bold mb-2">Année du Mandat</label>
    <select id="year" name="year" required class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
      <% const currentYear = new Date().getFullYear(); %>
      <% for (let i = currentYear + 5; i >= currentYear - 5; i--) { %>
        <% const yearString = `${i-1}-${i}`; %>
        <option value="<%= yearString %>" <%= item.year === yearString ? 'selected' : '' %>><%= yearString %></option>
      <% } %>
    </select>
  </div>

  <!-- Champ Biographie -->
  <div class="mb-6">
    <label for="bio" class="block text-gray-700 text-sm font-bold mb-2">Biographie (Description complète)</label>
    <textarea id="bio" name="bio" rows="4" placeholder="Description détaillée pour la page du membre" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"><%- item.bio %></textarea>
  </div>

  <!-- Champ Lien LinkedIn -->
  <div class="mb-6">
    <label for="linkedinUrl" class="block text-gray-700 text-sm font-bold mb-2">URL du profil LinkedIn</label>
    <input type="text" id="linkedinUrl" name="linkedinUrl" value="<%- item.linkedinUrl %>" placeholder="https://www.linkedin.com/in/votreprofil" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
  </div>

  <!-- Champ Image -->
  <div class="mb-8">
    <label for="image" class="block text-gray-700 text-sm font-bold mb-2">Changer la photo de profil</label>
    <% if (item.imageUrl) { %>
      <div class="mb-4">
        <img src="<%- item.imageUrl %>" alt="Photo de <%- item.name %>" class="w-32 h-32 object-cover rounded-full mx-auto">
      </div>
    <% } %>
    <input type="file" id="image" name="image" accept="image/*" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
    <p class="text-xs text-gray-500 mt-1">Téléchargez une nouvelle image pour remplacer l'actuelle.</p>
  </div>

  <!-- Boutons d'action -->
  <div class="flex items-center justify-between">
    <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Enregistrer les Modifications</button>
    <a href="<%= adminPath %>/members" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Annuler</a>
  </div>

</form>